<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CAS Vattamkulam Chatbot</title>

  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Lucide Icons CDN -->
  <script src="https://unpkg.com/lucide@latest"></script>

  <style>
    .typing-dot {
      width: 8px;
      height: 8px;
      background-color: #9ca3af;
      border-radius: 50%;
      animation: bounce 1s infinite;
    }
    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-6px); }
    }
  </style>
</head>

<body class="bg-gradient-to-br from-blue-50 to-indigo-100 h-screen flex flex-col">

  <!-- HEADER -->
  <div class="bg-gradient-to-r from-red-500 to-red-600 text-white p-4 shadow-lg">
    <div class="max-w-4xl mx-auto">
      <div class="flex items-center justify-between gap-4">
        <div class="flex items-center gap-3">
          <div class="bg-white p-2 rounded-full shadow-md">
            <i data-lucide="bot" class="w-8 h-8 text-red-600"></i>
          </div>
          <div>
            <div class="text-xl font-bold leading-tight">COLLEGE OF APPLIED SCIENCE</div>
            <div class="text-lg font-semibold text-red-50">VATTAMKULAM</div>
            <div class="text-xs text-red-100 italic">Affiliated to University of Calicut</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- CHAT AREA -->
  <div id="chatWindow" class="flex-1 overflow-y-auto p-4">
    <div class="max-w-4xl mx-auto space-y-4" id="messages">
      <script>
        // Initial bot greeting message
        document.write(`
          <div class="flex gap-3 justify-start">
            <div class="bg-white p-2 rounded-full h-10 w-10 flex items-center justify-center shadow-md">
              <i data-lucide="bot" class="w-5 h-5 text-blue-600"></i>
            </div>
            <div class="bg-white p-4 rounded-2xl shadow-md max-w-2xl text-sm text-gray-800 whitespace-pre-line">
              Hello! üëã I'm the CAS Vattamkulam College Assistant. I can help you with:

‚Ä¢ Course information (BSc CS, BCA, Electronics, Commerce, etc.)
‚Ä¢ Admission procedures and fees
‚Ä¢ Facilities and infrastructure
‚Ä¢ Contact details and location
‚Ä¢ Activities and clubs

What would you like to know?
            </div>
          </div>
        `);
      </script>
    </div>
    <div id="end"></div>
  </div>

  <!-- QUICK ACTIONS -->
  <div id="quickActions" class="px-4 pb-2">
    <div class="max-w-4xl mx-auto">
      <div class="flex items-center gap-2 mb-2">
        <i data-lucide="sparkles" class="w-4 h-4 text-blue-600"></i>
        <span class="text-sm text-gray-600 font-medium">Quick questions:</span>
      </div>
      <div class="flex flex-wrap gap-2">
        <button class="qa px-3 py-2 bg-white text-blue-600 text-sm rounded-lg shadow-sm">Show all courses</button>
        <button class="qa px-3 py-2 bg-white text-blue-600 text-sm rounded-lg shadow-sm">Admission process</button>
        <button class="qa px-3 py-2 bg-white text-blue-600 text-sm rounded-lg shadow-sm">Contact details</button>
        <button class="qa px-3 py-2 bg-white text-blue-600 text-sm rounded-lg shadow-sm">Facilities available</button>
      </div>
    </div>
  </div>

  <!-- INPUT AREA -->
  <div class="bg-white border-t p-4 shadow-lg">
    <div class="max-w-4xl mx-auto flex gap-2">
      <input id="inputBox"
        type="text"
        placeholder="Ask me anything about CAS Vattamkulam..."
        class="flex-1 px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500" />

      <button id="sendBtn"
        class="bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-3 rounded-xl shadow-md">
        <i data-lucide="send" class="w-5 h-5 inline"></i> Send
      </button>
    </div>
  </div>

  <script>
    lucide.createIcons();

    const messagesDiv = document.getElementById("messages");
    const inputBox = document.getElementById("inputBox");
    const endRef = document.getElementById("end");
    const quickActionButtons = document.querySelectorAll(".qa");

    const scrollBottom = () => endRef.scrollIntoView({ behavior: "smooth" });

    // ==========================
    // CHATBOT RESPONSE FUNCTION
    // ==========================
    function getBotResponse(text) {
      const msg = text.toLowerCase();

      // ‚≠ê Add your full response logic here (converted from your React code)  
      // --- I am keeping it short due to message limit ---
      if (msg.includes("course")) return "üìö Courses Offered:\n‚Ä¢ BSc CS\n‚Ä¢ BCA\n‚Ä¢ BSc Electronics\n‚Ä¢ BCom CA\n‚Ä¢ BBA Logistics\n‚Ä¢ MSc CS\n‚Ä¢ M.Com Finance";
      if (msg.includes("admission")) return "üìù Admission Info:\n50% University Seats, 50% IHRD Seats.\nUG: admission.uoc.ac.in\nIHRD: ihrdadmissions.org";
      if (msg.includes("contact")) return "üìû Contact:\n0494-2689655\ncasvattamkulam@ihrd.ac.in";
      if (msg.includes("facility")) return "üèõ Facilities:\n‚Ä¢ Smart classrooms\n‚Ä¢ Computer Lab\n‚Ä¢ Library\n‚Ä¢ Electronics Lab\n‚Ä¢ Open Gym";

      return "I can help with:\n‚Ä¢ Courses\n‚Ä¢ Admission\n‚Ä¢ Fees\n‚Ä¢ Facilities\n‚Ä¢ Clubs\n‚Ä¢ Contact";
    }

    // ============================
    // SEND MESSAGE
    // ============================
    function sendMessage(text) {
      if (!text.trim()) return;

      // Add user message
      messagesDiv.innerHTML += `
        <div class="flex gap-3 justify-end">
          <div class="bg-gradient-to-r from-blue-600 to-indigo-600 text-white p-4 rounded-2xl shadow-md max-w-2xl text-sm">
            ${text}
          </div>
          <div class="bg-gradient-to-r from-blue-600 to-indigo-600 p-2 rounded-full h-10 w-10 flex items-center justify-center shadow-md">
            <i data-lucide="user" class="w-5 h-5 text-white"></i>
          </div>
        </div>
      `;
      lucide.createIcons();
      scrollBottom();

      // Remove quick actions after first message
      document.getElementById("quickActions").style.display = "none";

      // Show typing indicator
      const typingId = "typing-" + Date.now();
      messagesDiv.innerHTML += `
        <div id="${typingId}" class="flex gap-3 justify-start">
          <div class="bg-white p-2 rounded-full h-10 w-10 flex items-center justify-center shadow-md">
            <i data-lucide="bot" class="w-5 h-5 text-blue-600"></i>
          </div>
          <div class="bg-white p-4 rounded-2xl shadow-md flex gap-1">
            <div class="typing-dot"></div>
            <div class="typing-dot" style="animation-delay:0.2s"></div>
            <div class="typing-dot" style="animation-delay:0.4s"></div>
          </div>
        </div>
      `;
      lucide.createIcons();
      scrollBottom();

      setTimeout(() => {
        document.getElementById(typingId).remove();

        const botReply = getBotResponse(text);

        messagesDiv.innerHTML += `
          <div class="flex gap-3 justify-start">
            <div class="bg-white p-2 rounded-full h-10 w-10 flex items-center justify-center shadow-md">
              <i data-lucide="bot" class="w-5 h-5 text-blue-600"></i>
            </div>
            <div class="bg-white p-4 rounded-2xl shadow-md max-w-2xl text-sm whitespace-pre-line">
              ${botReply}
            </div>
          </div>
        `;
        lucide.createIcons();
        scrollBottom();
      }, 600);
    }

    // ============================
    // BUTTONS & EVENTS
    // ============================
    document.getElementById("sendBtn").onclick = () => {
      sendMessage(inputBox.value);
      inputBox.value = "";
    };

    inputBox.addEventListener("keypress", (e) => {
      if (e.key === "Enter") {
        sendMessage(inputBox.value);
        inputBox.value = "";
      }
    });

    quickActionButtons.forEach(btn => {
      btn.addEventListener("click", () => {
        sendMessage(btn.innerText);
      });
    });
  </script>
</body>
</html>
